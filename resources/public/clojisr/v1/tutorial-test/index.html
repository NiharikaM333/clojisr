<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr.v1.tutorial-test</h1><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Wed Mar 04 13:51:50 CET 2020.</small></i><hr /></div><div>Checks: <b class="PASSED">58 PASSED </b><hr /></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#R-objects">R-objects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li><li><a href="#R-function-arglists">R-function-arglists</a></li><li><a href="#using-Renjin">using-Renjin</a></li></ul><hr /></div><div class="nspbox"><div><h1>Clojisr tutorial</h1></div></div><div class="nspbox"><a id="basic-examples"> </a><div><h2>Basic examples</h2></div></div><div class="nspbox"><div><p>Let us start by some basic usage examples of Clojisr.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj&nbsp;java->naive-clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colon]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.rserve&nbsp;:as&nbsp;rserve]</br>&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset])</code></div></div><div class="nspbox"><div><p>First, let us make sure that we use the Rserve backend (in case we were using Renjin instead earlier), and that there are no R sessions currently running.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(rserve/set-as-default!)</br>&nbsp;(r/discard-all-sessions)</code></div></div><div class="nspbox"><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div><p>Convert the R to Clojure: This part requires more thorough documentation.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:A&nbsp;[1.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:B&nbsp;[2.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"#123strange<text>&nbsp;()"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</code></div></div><div class="nspbox"><div><p>Run some code on a separate session (specified Rserve port, rather than the default one).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:port&nbsp;4444})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div><p>Convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</code></div></div><div class="nspbox"><a id="functions"> </a><div><h2>Functions</h2></div></div><div class="nspbox"><div><p>An R function is also a Clojure function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</code></div></div><div class="nspbox"><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div><p>We can also apply it to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>An alternative call syntax:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[:=&nbsp;:na.rm&nbsp;true])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>Anoter example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[f&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[33.0]&nbsp;[123.0]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[113.0]])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</code></div></div><div class="nspbox"><div><p>Some functions are already created in Clojisr and given special names for convenience. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[6.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><a id="R-dataframes-and-tech.ml.dataset"> </a><div><h2>R dataframes and <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> datasets</h2></div></div><div class="nspbox"><div><p>Create a tech.ml.dataset dataset object, pass it to an R function to compute the row means, and convert the return value to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div><p>Load the R package 'dplyr' (assuming it is installed).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</code></div></div><div class="nspbox"><div><p>Use dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let</br>&nbsp;&nbsp;&nbsp;[filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;&nbsp;(->></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0,&nbsp;:z&nbsp;7.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;3.0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;6.0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;9.0}]))))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</br>]</code></div></div><div class="nspbox"><div><p>Tibbles are also supported, as a special case of data frames.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;x&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<int>&nbsp;<int></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0}])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0})]</code></div></div><div class="nspbox"><a id="R-objects"> </a><div><h2>R objects</h2></div></div><div class="nspbox"><div><p>Clojisr holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clojisr.v1.robject.RObject))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;clojisr.v1.robject.RObject]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x2cbc5749ca8e45bf"</code></div></div><div class="nspbox"><div><p>We can figure out the place in R memory corresponding to an object's name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(-></br>&nbsp;&nbsp;&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;:object-name</br>&nbsp;&nbsp;&nbsp;clojisr.v1.objects-memory/object-name->memory-place)</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x2cbc5749ca8e45bf"</code></div></div><div class="nspbox"><a id="generating-code"> </a><div><h2>Generating code</h2></div></div><div class="nspbox"><div><p>Let us see the code-generation mechanism of Clojisr, and the rules defining it.</p></div></div><div class="nspbox"><div><p>We will need a reference to the R session:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;session</br>&nbsp;&nbsp;&nbsp;(session/fetch-or-make&nbsp;nil))</code></div></div><div class="nspbox"><div><p>For the following examples, we will use some dummy handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x</br>&nbsp;&nbsp;&nbsp;(robject/->RObject&nbsp;"x"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil))</br>&nbsp;(def&nbsp;y</br>&nbsp;&nbsp;&nbsp;(robject/->RObject&nbsp;"y"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nil))</code></div></div><div class="nspbox"><div><p>.. and some real handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))</br>&nbsp;(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</code></div></div><div class="nspbox"><div><p>For an r-object, we generate the code with that object's location in the R session memory.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;".MEM$x"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x"]</code></div></div><div class="nspbox"><div><p>For a clojure value, we implicitly convert to an R object, generating the corresponding code.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x5b617f8303e04426"]</code></div></div><div class="nspbox"><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'x)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x"</code></div></div><div class="nspbox"><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,&nbsp;y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,&nbsp;y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a vector instead of list, we heve the same behaviour.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,&nbsp;y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,&nbsp;y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'tilde</code>, we generate an R <code>&#126;</code>-furmula.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(tilde&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x&nbsp;~&nbsp;y)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x&nbsp;~&nbsp;y)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with a symbol known to be a binary operator, we generate the code with that operator between all arguments.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x&nbsp;+&nbsp;y&nbsp;+&nbsp;z)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x&nbsp;+&nbsp;y&nbsp;+&nbsp;z)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;'x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#"\.MEM\$.*\(x\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x58de74d3a73a4112(x)"]</code></div></div><div class="nspbox"><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;'(1&nbsp;2&nbsp;3)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re-matches</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#"\.MEM\$.*\(\.MEM\$.*\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x58de74d3a73a4112(.MEM$x744cacd6697441ef)"]</code></div></div><div class="nspbox"><div><p>Some more examples, showing how these rules compose:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{f(y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{(x&nbsp;+&nbsp;y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;['function&nbsp;'[x&nbsp;y]&nbsp;['+&nbsp;'x&nbsp;y]])</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{(x&nbsp;+&nbsp;.MEM$y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code</br>&nbsp;&nbsp;&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{print(x);&nbsp;f(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;['function&nbsp;'[x&nbsp;y]&nbsp;[abs&nbsp;'x]])</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{.MEM$x58de74d3a73a4112(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;[abs&nbsp;minus-eleven])</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x58de74d3a73a4112(.MEM$x317d7ba2b78841d3)"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;[abs&nbsp;-11])</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x58de74d3a73a4112(-11)"</code></div></div><div class="nspbox"><a id="running-generated-code"> </a><div><h2>Running generated code</h2></div></div><div class="nspbox"><div><p>Clojure forms can be run as R code. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;(range&nbsp;-3&nbsp;0)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</code></div></div><div class="nspbox"><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br>&nbsp;(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br>&nbsp;(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br>&nbsp;(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rowMeans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data)))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(filter&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[data]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mutate&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</code></div><div class="nspout"><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;(z&nbsp;=&nbsp;(x&nbsp;+&nbsp;y))&nbsp;|</br>|-------+-------+---------------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.000&nbsp;|</code></div></div><div class="nspbox"><div><p>The strange column name is due to dplyr's mutate behaviour when extra parens are added to the expression.</p></div></div><div class="nspbox"><a id="requiring-R-packages"> </a><div><h2>Requiring R packages</h2></div></div><div class="nspbox"><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[median]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:refer&nbsp;[euro]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><a id="data-visualization"> </a><div><h2>Data visualization</h2></div></div><div class="nspbox"><div><p>Functions creating R plots or any plotting objects generated by various R libraries can be wrapped in a way that returns an SVG, BufferedImage or can be saved to a file. All of them accept additional parameters specified in <code>grDevices</code> R package.</p></div></div><div class="nspbox"><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot&nbsp;hist]])</br>&nbsp;(require-r&nbsp;'[ggplot2&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ggplot&nbsp;aes&nbsp;geom_point</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br>&nbsp;(require</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot->svg&nbsp;plot->file</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot->buffered-image]])</code></div></div><div class="nspbox"><div><p>First example, simple plotting function as SVG string.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"y"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d="M 1.5 0 L 1.5 -7.5 L 7.5 -7.5 L 7.5 0 Z M 1.6875 -0.1875 L 7.3125 -0.1875 L 7.3125 -7.3125 L 1.6875 -7.3125 Z M 1.6875 -0.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 0.5 -4.234375 C 0.5 -5.253906 0.601562 -6.070312 0.8125 -6.6875 C 1.019531 -7.3125 1.328125 -7.789062 1.734375 -8.125 C 2.148438 -8.457031 2.671875 -8.625 3.296875 -8.625 C 3.753906 -8.625 4.15625 -8.53125 4.5 -8.34375 C 4.851562 -8.15625 5.144531 -7.882812 5.375 -7.53125 C 5.601562 -7.1875 5.78125 -6.765625 5.90625 -6.265625 C 6.03125 -5.765625 6.09375 -5.085938 6.09375 -4.234375 C 6.09375 -3.222656 5.988281 -2.410156 5.78125 -1.796875 C 5.582031 -1.179688 5.273438 -0.703125 4.859375 -0.359375 C 4.453125 -0.0234375 3.929688 0.140625 3.296875 0.140625 C 2.472656 0.140625 1.820312 -0.15625 1.34375 -0.75 C 0.78125 -1.457031 0.5 -2.617188 0.5 -4.234375 Z M 1.578125 -4.234375 C 1.578125 -2.828125 1.742188 -1.890625 2.078125 -1.421875 C 2.410156 -0.953125 2.816406 -0.71875 3.296875 -0.71875 C 3.785156 -0.71875 4.191406 -0.953125 4.515625 -1.421875 C 4.847656 -1.890625 5.015625 -2.828125 5.015625 -4.234375 C 5.015625 -5.648438 4.847656 -6.585938 4.515625 -7.046875 C 4.191406 -7.515625 3.78125 -7.75 3.28125 -7.75 C 2.800781 -7.75 2.414062 -7.546875 2.125 -7.140625 C 1.757812 -6.617188 1.578125 -5.648438 1.578125 -4.234375 Z M 1.578125 -4.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 0.5 -2.25 L 1.609375 -2.34375 C 1.691406 -1.800781 1.878906 -1.394531 2.171875 -1.125 C 2.472656 -0.851562 2.835938 -0.71875 3.265625 -0.71875 C 3.765625 -0.71875 4.191406 -0.910156 4.546875 -1.296875 C 4.898438 -1.679688 5.078125 -2.1875 5.078125 -2.8125 C 5.078125 -3.414062 4.90625 -3.890625 4.5625 -4.234375 C 4.226562 -4.585938 3.785156 -4.765625 3.234375 -4.765625 C 2.898438 -4.765625 2.59375 -4.6875 2.3125 -4.53125 C 2.039062 -4.375 1.828125 -4.175781 1.671875 -3.9375 L 0.6875 -4.0625 L 1.515625 -8.46875 L 5.796875 -8.46875 L 5.796875 -7.46875 L 2.359375 -7.46875 L 1.90625 -5.15625 C 2.414062 -5.519531 2.953125 -5.703125 3.515625 -5.703125 C 4.265625 -5.703125 4.894531 -5.441406 5.40625 -4.921875 C 5.925781 -4.398438 6.1875 -3.726562 6.1875 -2.90625 C 6.1875 -2.132812 5.960938 -1.460938 5.515625 -0.890625 C 4.960938 -0.203125 4.210938 0.140625 3.265625 0.140625 C 2.484375 0.140625 1.84375 -0.078125 1.34375 -0.515625 C 0.851562 -0.953125 0.570312 -1.53125 0.5 -2.25 Z M 0.5 -2.25 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.46875 0 L 3.421875 0 L 3.421875 -6.71875 C 3.160156 -6.476562 2.820312 -6.234375 2.40625 -5.984375 C 2 -5.742188 1.632812 -5.566406 1.3125 -5.453125 L 1.3125 -6.46875 C 1.894531 -6.75 2.40625 -7.082031 2.84375 -7.46875 C 3.289062 -7.863281 3.609375 -8.25 3.796875 -8.625 L 4.46875 -8.625 Z M 4.46875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.046875 -1.015625 L 6.046875 0 L 0.359375 0 C 0.359375 -0.25 0.398438 -0.492188 0.484375 -0.734375 C 0.628906 -1.117188 0.859375 -1.5 1.171875 -1.875 C 1.492188 -2.25 1.957031 -2.679688 2.5625 -3.171875 C 3.5 -3.941406 4.128906 -4.550781 4.453125 -5 C 4.785156 -5.445312 4.953125 -5.867188 4.953125 -6.265625 C 4.953125 -6.679688 4.800781 -7.03125 4.5 -7.3125 C 4.195312 -7.601562 3.804688 -7.75 3.328125 -7.75 C 2.816406 -7.75 2.410156 -7.597656 2.109375 -7.296875 C 1.804688 -6.992188 1.648438 -6.570312 1.640625 -6.03125 L 0.5625 -6.140625 C 0.632812 -6.953125 0.910156 -7.566406 1.390625 -7.984375 C 1.878906 -8.410156 2.535156 -8.625 3.359375 -8.625 C 4.179688 -8.625 4.832031 -8.394531 5.3125 -7.9375 C 5.789062 -7.476562 6.03125 -6.910156 6.03125 -6.234375 C 6.03125 -5.890625 5.957031 -5.550781 5.8125 -5.21875 C 5.675781 -4.894531 5.441406 -4.546875 5.109375 -4.171875 C 4.785156 -3.804688 4.25 -3.304688 3.5 -2.671875 C 2.863281 -2.140625 2.453125 -1.773438 2.265625 -1.578125 C 2.085938 -1.390625 1.941406 -1.203125 1.828125 -1.015625 Z M 6.046875 -1.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 0.5 -2.265625 L 1.5625 -2.40625 C 1.675781 -1.8125 1.878906 -1.378906 2.171875 -1.109375 C 2.460938 -0.847656 2.816406 -0.71875 3.234375 -0.71875 C 3.734375 -0.71875 4.15625 -0.890625 4.5 -1.234375 C 4.84375 -1.578125 5.015625 -2.003906 5.015625 -2.515625 C 5.015625 -2.992188 4.851562 -3.390625 4.53125 -3.703125 C 4.21875 -4.023438 3.816406 -4.1875 3.328125 -4.1875 C 3.128906 -4.1875 2.878906 -4.144531 2.578125 -4.0625 L 2.703125 -5 C 2.773438 -4.988281 2.832031 -4.984375 2.875 -4.984375 C 3.320312 -4.984375 3.722656 -5.097656 4.078125 -5.328125 C 4.441406 -5.566406 4.625 -5.929688 4.625 -6.421875 C 4.625 -6.804688 4.492188 -7.125 4.234375 -7.375 C 3.972656 -7.632812 3.632812 -7.765625 3.21875 -7.765625 C 2.8125 -7.765625 2.46875 -7.632812 2.1875 -7.375 C 1.914062 -7.113281 1.742188 -6.726562 1.671875 -6.21875 L 0.609375 -6.40625 C 0.734375 -7.101562 1.023438 -7.644531 1.484375 -8.03125 C 1.941406 -8.425781 2.507812 -8.625 3.1875 -8.625 C 3.65625 -8.625 4.085938 -8.519531 4.484375 -8.3125 C 4.878906 -8.113281 5.179688 -7.84375 5.390625 -7.5 C 5.597656 -7.15625 5.703125 -6.785156 5.703125 -6.390625 C 5.703125 -6.023438 5.601562 -5.6875 5.40625 -5.375 C 5.207031 -5.070312 4.914062 -4.832031 4.53125 -4.65625 C 5.03125 -4.539062 5.421875 -4.296875 5.703125 -3.921875 C 5.984375 -3.554688 6.125 -3.09375 6.125 -2.53125 C 6.125 -1.78125 5.847656 -1.144531 5.296875 -0.625 C 4.753906 -0.101562 4.066406 0.15625 3.234375 0.15625 C 2.484375 0.15625 1.859375 -0.0664062 1.359375 -0.515625 C 0.859375 -0.972656 0.570312 -1.554688 0.5 -2.265625 Z M 0.5 -2.265625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.09375 -0.9375 L 3.25 -0.015625 C 2.945312 0.046875 2.679688 0.078125 2.453125 0.078125 C 2.066406 0.078125 1.769531 0.0195312 1.5625 -0.09375 C 1.351562 -0.21875 1.203125 -0.378906 1.109375 -0.578125 C 1.023438 -0.773438 0.984375 -1.191406 0.984375 -1.828125 L 0.984375 -5.40625 L 0.21875 -5.40625 L 0.21875 -6.21875 L 0.984375 -6.21875 L 0.984375 -7.765625 L 2.03125 -8.390625 L 2.03125 -6.21875 L 3.09375 -6.21875 L 3.09375 -5.40625 L 2.03125 -5.40625 L 2.03125 -1.765625 C 2.03125 -1.460938 2.046875 -1.269531 2.078125 -1.1875 C 2.117188 -1.101562 2.179688 -1.035156 2.265625 -0.984375 C 2.347656 -0.929688 2.46875 -0.90625 2.625 -0.90625 C 2.75 -0.90625 2.90625 -0.914062 3.09375 -0.9375 Z M 3.09375 -0.9375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d="M 0 -1.5 L -7.5 -1.5 L -7.5 -7.5 L 0 -7.5 Z M -0.1875 -1.6875 L -0.1875 -7.3125 L -7.3125 -7.3125 L -7.3125 -1.6875 Z M -0.1875 -1.6875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -4.234375 -0.5 C -5.253906 -0.5 -6.070312 -0.601562 -6.6875 -0.8125 C -7.3125 -1.019531 -7.789062 -1.328125 -8.125 -1.734375 C -8.457031 -2.148438 -8.625 -2.671875 -8.625 -3.296875 C -8.625 -3.753906 -8.53125 -4.15625 -8.34375 -4.5 C -8.15625 -4.851562 -7.882812 -5.144531 -7.53125 -5.375 C -7.1875 -5.601562 -6.765625 -5.78125 -6.265625 -5.90625 C -5.765625 -6.03125 -5.085938 -6.09375 -4.234375 -6.09375 C -3.222656 -6.09375 -2.410156 -5.988281 -1.796875 -5.78125 C -1.179688 -5.582031 -0.703125 -5.273438 -0.359375 -4.859375 C -0.0234375 -4.453125 0.140625 -3.929688 0.140625 -3.296875 C 0.140625 -2.472656 -0.15625 -1.820312 -0.75 -1.34375 C -1.457031 -0.78125 -2.617188 -0.5 -4.234375 -0.5 Z M -4.234375 -1.578125 C -2.828125 -1.578125 -1.890625 -1.742188 -1.421875 -2.078125 C -0.953125 -2.410156 -0.71875 -2.816406 -0.71875 -3.296875 C -0.71875 -3.785156 -0.953125 -4.191406 -1.421875 -4.515625 C -1.890625 -4.847656 -2.828125 -5.015625 -4.234375 -5.015625 C -5.648438 -5.015625 -6.585938 -4.847656 -7.046875 -4.515625 C -7.515625 -4.191406 -7.75 -3.78125 -7.75 -3.28125 C -7.75 -2.800781 -7.546875 -2.414062 -7.140625 -2.125 C -6.617188 -1.757812 -5.648438 -1.578125 -4.234375 -1.578125 Z M -4.234375 -1.578125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -2.25 -0.5 L -2.34375 -1.609375 C -1.800781 -1.691406 -1.394531 -1.878906 -1.125 -2.171875 C -0.851562 -2.472656 -0.71875 -2.835938 -0.71875 -3.265625 C -0.71875 -3.765625 -0.910156 -4.191406 -1.296875 -4.546875 C -1.679688 -4.898438 -2.1875 -5.078125 -2.8125 -5.078125 C -3.414062 -5.078125 -3.890625 -4.90625 -4.234375 -4.5625 C -4.585938 -4.226562 -4.765625 -3.785156 -4.765625 -3.234375 C -4.765625 -2.898438 -4.6875 -2.59375 -4.53125 -2.3125 C -4.375 -2.039062 -4.175781 -1.828125 -3.9375 -1.671875 L -4.0625 -0.6875 L -8.46875 -1.515625 L -8.46875 -5.796875 L -7.46875 -5.796875 L -7.46875 -2.359375 L -5.15625 -1.90625 C -5.519531 -2.414062 -5.703125 -2.953125 -5.703125 -3.515625 C -5.703125 -4.265625 -5.441406 -4.894531 -4.921875 -5.40625 C -4.398438 -5.925781 -3.726562 -6.1875 -2.90625 -6.1875 C -2.132812 -6.1875 -1.460938 -5.960938 -0.890625 -5.515625 C -0.203125 -4.960938 0.140625 -4.210938 0.140625 -3.265625 C 0.140625 -2.484375 -0.078125 -1.84375 -0.515625 -1.34375 C -0.953125 -0.851562 -1.53125 -0.570312 -2.25 -0.5 Z M -2.25 -0.5 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 0 -4.46875 L 0 -3.421875 L -6.71875 -3.421875 C -6.476562 -3.160156 -6.234375 -2.820312 -5.984375 -2.40625 C -5.742188 -2 -5.566406 -1.632812 -5.453125 -1.3125 L -6.46875 -1.3125 C -6.75 -1.894531 -7.082031 -2.40625 -7.46875 -2.84375 C -7.863281 -3.289062 -8.25 -3.609375 -8.625 -3.796875 L -8.625 -4.46875 Z M 0 -4.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 2.390625 -0.75 L 1.40625 -0.625 C 1.46875 -0.851562 1.5 -1.054688 1.5 -1.234375 C 1.5 -1.460938 1.457031 -1.644531 1.375 -1.78125 C 1.300781 -1.925781 1.195312 -2.046875 1.0625 -2.140625 C 0.945312 -2.203125 0.679688 -2.3125 0.265625 -2.46875 C 0.210938 -2.476562 0.128906 -2.507812 0.015625 -2.5625 L -6.21875 -0.1875 L -6.21875 -1.328125 L -2.625 -2.625 C -2.164062 -2.789062 -1.679688 -2.941406 -1.171875 -3.078125 C -1.660156 -3.203125 -2.132812 -3.347656 -2.59375 -3.515625 L -6.21875 -4.84375 L -6.21875 -5.890625 L 0.109375 -3.53125 C 0.785156 -3.269531 1.253906 -3.070312 1.515625 -2.9375 C 1.867188 -2.75 2.125 -2.53125 2.28125 -2.28125 C 2.445312 -2.039062 2.53125 -1.753906 2.53125 -1.421875 C 2.53125 -1.222656 2.484375 -1 2.390625 -0.75 Z M 2.390625 -0.75 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 398.226562 L 100.882812 395.308594 L 114.125 373.046875 L 127.367188 354.25 L 140.605469 334.582031 L 153.847656 317.890625 L 167.089844 309.59375 L 180.332031 293.546875 L 193.574219 278.851562 L 206.8125 272.328125 L 220.054688 255.882812 L 233.296875 241.132812 L 246.539062 220.746094 L 259.78125 211.027344 L 273.019531 197.382812 L 286.261719 183.386719 L 299.503906 176.023438 L 312.746094 160.785156 L 325.984375 153.039062 L 339.226562 133.238281 L 352.46875 132.332031 L 365.710938 128.859375 L 378.953125 109.800781 L 392.191406 108.226562 L 405.433594 107.503906 L 418.675781 90.195312 L 431.917969 82.277344 L 445.160156 77.417969 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="193.248047" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="259.455078" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="325.658203" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="391.865234" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="458.072266" y="456.34375"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 428.652344 L 59.039062 94.664062 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 428.652344 L 51.839844 428.652344 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 317.324219 L 51.839844 317.324219 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 205.992188 L 51.839844 205.992188 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 94.664062 L 51.839844 94.664062 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.625" y="432.152344"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.625" y="320.824219"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.625" y="212.992188"/>
  <use xlink:href="#glyph1-1" x="41.625" y="206.318359"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.625" y="101.664062"/>
  <use xlink:href="#glyph1-2" x="41.625" y="94.990234"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 L 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.398438" y="485.144531"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="12.824219" y="247.800781"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>ggplot2 plots (or any other plot objects like lattice) can be also turned into SVG.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(xlab&nbsp;"x")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ylab&nbsp;"y")))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d="M 1.09375 0 L 1.09375 -5.5 L 5.5 -5.5 L 5.5 0 Z M 1.234375 -0.140625 L 5.359375 -0.140625 L 5.359375 -5.359375 L 1.234375 -5.359375 Z M 1.234375 -0.140625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 0.359375 -3.109375 C 0.359375 -3.847656 0.4375 -4.441406 0.59375 -4.890625 C 0.75 -5.347656 0.976562 -5.703125 1.28125 -5.953125 C 1.582031 -6.203125 1.960938 -6.328125 2.421875 -6.328125 C 2.753906 -6.328125 3.046875 -6.257812 3.296875 -6.125 C 3.554688 -5.988281 3.769531 -5.789062 3.9375 -5.53125 C 4.101562 -5.269531 4.234375 -4.957031 4.328125 -4.59375 C 4.421875 -4.226562 4.46875 -3.734375 4.46875 -3.109375 C 4.46875 -2.367188 4.390625 -1.769531 4.234375 -1.3125 C 4.085938 -0.863281 3.863281 -0.515625 3.5625 -0.265625 C 3.257812 -0.015625 2.878906 0.109375 2.421875 0.109375 C 1.804688 0.109375 1.328125 -0.109375 0.984375 -0.546875 C 0.566406 -1.066406 0.359375 -1.921875 0.359375 -3.109375 Z M 1.15625 -3.109375 C 1.15625 -2.078125 1.273438 -1.390625 1.515625 -1.046875 C 1.765625 -0.703125 2.066406 -0.53125 2.421875 -0.53125 C 2.773438 -0.53125 3.070312 -0.703125 3.3125 -1.046875 C 3.550781 -1.390625 3.671875 -2.078125 3.671875 -3.109375 C 3.671875 -4.140625 3.550781 -4.828125 3.3125 -5.171875 C 3.070312 -5.515625 2.769531 -5.6875 2.40625 -5.6875 C 2.050781 -5.6875 1.769531 -5.535156 1.5625 -5.234375 C 1.289062 -4.847656 1.15625 -4.140625 1.15625 -3.109375 Z M 1.15625 -3.109375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 0.796875 0 L 0.796875 -0.875 L 1.671875 -0.875 L 1.671875 0 Z M 0.796875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 0.359375 -1.65625 L 1.171875 -1.71875 C 1.234375 -1.320312 1.375 -1.023438 1.59375 -0.828125 C 1.8125 -0.628906 2.078125 -0.53125 2.390625 -0.53125 C 2.765625 -0.53125 3.078125 -0.671875 3.328125 -0.953125 C 3.585938 -1.234375 3.71875 -1.601562 3.71875 -2.0625 C 3.71875 -2.507812 3.59375 -2.859375 3.34375 -3.109375 C 3.101562 -3.359375 2.78125 -3.484375 2.375 -3.484375 C 2.125 -3.484375 1.898438 -3.425781 1.703125 -3.3125 C 1.503906 -3.207031 1.347656 -3.0625 1.234375 -2.875 L 0.5 -2.984375 L 1.109375 -6.21875 L 4.25 -6.21875 L 4.25 -5.46875 L 1.734375 -5.46875 L 1.390625 -3.78125 C 1.765625 -4.039062 2.160156 -4.171875 2.578125 -4.171875 C 3.128906 -4.171875 3.59375 -3.976562 3.96875 -3.59375 C 4.351562 -3.21875 4.546875 -2.734375 4.546875 -2.140625 C 4.546875 -1.566406 4.378906 -1.070312 4.046875 -0.65625 C 3.640625 -0.144531 3.085938 0.109375 2.390625 0.109375 C 1.816406 0.109375 1.347656 -0.0507812 0.984375 -0.375 C 0.617188 -0.695312 0.410156 -1.125 0.359375 -1.65625 Z M 0.359375 -1.65625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 3.28125 0 L 2.5 0 L 2.5 -4.921875 C 2.3125 -4.742188 2.066406 -4.566406 1.765625 -4.390625 C 1.460938 -4.210938 1.191406 -4.082031 0.953125 -4 L 0.953125 -4.734375 C 1.390625 -4.941406 1.769531 -5.191406 2.09375 -5.484375 C 2.414062 -5.773438 2.644531 -6.054688 2.78125 -6.328125 L 3.28125 -6.328125 Z M 3.28125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 4.421875 -0.75 L 4.421875 0 L 0.265625 0 C 0.253906 -0.1875 0.285156 -0.363281 0.359375 -0.53125 C 0.460938 -0.820312 0.628906 -1.101562 0.859375 -1.375 C 1.097656 -1.644531 1.4375 -1.960938 1.875 -2.328125 C 2.5625 -2.890625 3.023438 -3.332031 3.265625 -3.65625 C 3.503906 -3.988281 3.625 -4.300781 3.625 -4.59375 C 3.625 -4.894531 3.515625 -5.148438 3.296875 -5.359375 C 3.078125 -5.578125 2.789062 -5.6875 2.4375 -5.6875 C 2.0625 -5.6875 1.765625 -5.570312 1.546875 -5.34375 C 1.328125 -5.125 1.210938 -4.816406 1.203125 -4.421875 L 0.40625 -4.5 C 0.46875 -5.09375 0.675781 -5.546875 1.03125 -5.859375 C 1.382812 -6.171875 1.859375 -6.328125 2.453125 -6.328125 C 3.054688 -6.328125 3.535156 -6.15625 3.890625 -5.8125 C 4.242188 -5.476562 4.421875 -5.066406 4.421875 -4.578125 C 4.421875 -4.328125 4.367188 -4.078125 4.265625 -3.828125 C 4.160156 -3.585938 3.988281 -3.332031 3.75 -3.0625 C 3.507812 -2.789062 3.113281 -2.421875 2.5625 -1.953125 C 2.09375 -1.566406 1.789062 -1.300781 1.65625 -1.15625 C 1.53125 -1.019531 1.425781 -0.882812 1.34375 -0.75 Z M 4.421875 -0.75 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 0.421875 -5.46875 L 0.421875 -6.21875 L 4.5 -6.21875 L 4.5 -5.609375 C 4.09375 -5.179688 3.691406 -4.613281 3.296875 -3.90625 C 2.898438 -3.207031 2.597656 -2.484375 2.390625 -1.734375 C 2.234375 -1.203125 2.132812 -0.625 2.09375 0 L 1.296875 0 C 1.304688 -0.5 1.40625 -1.097656 1.59375 -1.796875 C 1.78125 -2.492188 2.046875 -3.164062 2.390625 -3.8125 C 2.734375 -4.46875 3.101562 -5.019531 3.5 -5.46875 Z M 0.421875 -5.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d="M 1.375 0 L 1.375 -6.875 L 6.875 -6.875 L 6.875 0 Z M 1.546875 -0.171875 L 6.703125 -0.171875 L 6.703125 -6.703125 L 1.546875 -6.703125 Z M 1.546875 -0.171875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 0.078125 0 L 2.171875 -2.96875 L 0.234375 -5.703125 L 1.4375 -5.703125 L 2.328125 -4.359375 C 2.484375 -4.109375 2.613281 -3.898438 2.71875 -3.734375 C 2.875 -3.960938 3.019531 -4.171875 3.15625 -4.359375 L 4.109375 -5.703125 L 5.265625 -5.703125 L 3.296875 -3.015625 L 5.421875 0 L 4.234375 0 L 3.0625 -1.765625 L 2.75 -2.25 L 1.25 0 Z M 0.078125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M 2.578125 2.3125 C 2.035156 1.644531 1.582031 0.859375 1.21875 -0.046875 C 0.851562 -0.953125 0.671875 -1.890625 0.671875 -2.859375 C 0.671875 -3.703125 0.804688 -4.515625 1.078125 -5.296875 C 1.398438 -6.203125 1.898438 -7.109375 2.578125 -8.015625 L 3.265625 -8.015625 C 2.828125 -7.265625 2.539062 -6.726562 2.40625 -6.40625 C 2.1875 -5.914062 2.015625 -5.398438 1.890625 -4.859375 C 1.734375 -4.191406 1.65625 -3.519531 1.65625 -2.84375 C 1.65625 -1.125 2.191406 0.59375 3.265625 2.3125 Z M 2.578125 2.3125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 0 0.140625 L 2.28125 -8.015625 L 3.0625 -8.015625 L 0.78125 0.140625 Z M 0 0.140625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 0.6875 2.203125 L 0.578125 1.296875 C 0.785156 1.347656 0.96875 1.375 1.125 1.375 C 1.34375 1.375 1.515625 1.335938 1.640625 1.265625 C 1.773438 1.191406 1.878906 1.09375 1.953125 0.96875 C 2.015625 0.875 2.113281 0.632812 2.25 0.25 C 2.269531 0.195312 2.300781 0.117188 2.34375 0.015625 L 0.171875 -5.703125 L 1.21875 -5.703125 L 2.40625 -2.40625 C 2.5625 -1.976562 2.695312 -1.535156 2.8125 -1.078125 C 2.925781 -1.523438 3.0625 -1.957031 3.21875 -2.375 L 4.4375 -5.703125 L 5.40625 -5.703125 L 3.234375 0.09375 C 3.003906 0.71875 2.820312 1.148438 2.6875 1.390625 C 2.519531 1.710938 2.320312 1.945312 2.09375 2.09375 C 1.875 2.238281 1.613281 2.3125 1.3125 2.3125 C 1.125 2.3125 0.914062 2.273438 0.6875 2.203125 Z M 0.6875 2.203125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 1.359375 2.3125 L 0.671875 2.3125 C 1.734375 0.59375 2.265625 -1.125 2.265625 -2.84375 C 2.265625 -3.519531 2.191406 -4.1875 2.046875 -4.84375 C 1.921875 -5.382812 1.75 -5.898438 1.53125 -6.390625 C 1.394531 -6.710938 1.109375 -7.253906 0.671875 -8.015625 L 1.359375 -8.015625 C 2.035156 -7.109375 2.535156 -6.203125 2.859375 -5.296875 C 3.128906 -4.515625 3.265625 -3.703125 3.265625 -2.859375 C 3.265625 -1.890625 3.078125 -0.953125 2.703125 -0.046875 C 2.335938 0.859375 1.890625 1.644531 1.359375 2.3125 Z M 1.359375 2.3125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 2.75 -1.265625 L 2.75 -3.4375 L 0.609375 -3.4375 L 0.609375 -4.328125 L 2.75 -4.328125 L 2.75 -6.484375 L 3.671875 -6.484375 L 3.671875 -4.328125 L 5.8125 -4.328125 L 5.8125 -3.4375 L 3.671875 -3.4375 L 3.671875 -1.265625 Z M 2.75 -1.265625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d="M 0 -1.375 L -6.875 -1.375 L -6.875 -6.875 L 0 -6.875 Z M -0.171875 -1.546875 L -0.171875 -6.703125 L -6.703125 -6.703125 L -6.703125 -1.546875 Z M -0.171875 -1.546875 "/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M 2.203125 -0.6875 L 1.296875 -0.578125 C 1.347656 -0.785156 1.375 -0.96875 1.375 -1.125 C 1.375 -1.34375 1.335938 -1.515625 1.265625 -1.640625 C 1.191406 -1.773438 1.09375 -1.878906 0.96875 -1.953125 C 0.875 -2.015625 0.632812 -2.113281 0.25 -2.25 C 0.195312 -2.269531 0.117188 -2.300781 0.015625 -2.34375 L -5.703125 -0.171875 L -5.703125 -1.21875 L -2.40625 -2.40625 C -1.976562 -2.5625 -1.535156 -2.695312 -1.078125 -2.8125 C -1.523438 -2.925781 -1.957031 -3.0625 -2.375 -3.21875 L -5.703125 -4.4375 L -5.703125 -5.40625 L 0.09375 -3.234375 C 0.71875 -3.003906 1.148438 -2.820312 1.390625 -2.6875 C 1.710938 -2.519531 1.945312 -2.320312 2.09375 -2.09375 C 2.238281 -1.875 2.3125 -1.613281 2.3125 -1.3125 C 2.3125 -1.125 2.273438 -0.914062 2.203125 -0.6875 Z M 2.203125 -0.6875 "/>
</symbol>
</g>
<clipPath id="clip1">
  <path d="M 37.152344 5.480469 L 435.84375 5.480469 L 435.84375 470.851562 L 37.152344 470.851562 Z M 37.152344 5.480469 "/>
</clipPath>
<clipPath id="clip2">
  <path d="M 37.152344 423 L 435.84375 423 L 435.84375 425 L 37.152344 425 Z M 37.152344 423 "/>
</clipPath>
<clipPath id="clip3">
  <path d="M 37.152344 294 L 435.84375 294 L 435.84375 295 L 37.152344 295 Z M 37.152344 294 "/>
</clipPath>
<clipPath id="clip4">
  <path d="M 37.152344 164 L 435.84375 164 L 435.84375 165 L 37.152344 165 Z M 37.152344 164 "/>
</clipPath>
<clipPath id="clip5">
  <path d="M 37.152344 34 L 435.84375 34 L 435.84375 36 L 37.152344 36 Z M 37.152344 34 "/>
</clipPath>
<clipPath id="clip6">
  <path d="M 98 5.480469 L 99 5.480469 L 99 470.851562 L 98 470.851562 Z M 98 5.480469 "/>
</clipPath>
<clipPath id="clip7">
  <path d="M 192 5.480469 L 194 5.480469 L 194 470.851562 L 192 470.851562 Z M 192 5.480469 "/>
</clipPath>
<clipPath id="clip8">
  <path d="M 287 5.480469 L 288 5.480469 L 288 470.851562 L 287 470.851562 Z M 287 5.480469 "/>
</clipPath>
<clipPath id="clip9">
  <path d="M 381 5.480469 L 383 5.480469 L 383 470.851562 L 381 470.851562 Z M 381 5.480469 "/>
</clipPath>
<clipPath id="clip10">
  <path d="M 37.152344 358 L 435.84375 358 L 435.84375 360 L 37.152344 360 Z M 37.152344 358 "/>
</clipPath>
<clipPath id="clip11">
  <path d="M 37.152344 228 L 435.84375 228 L 435.84375 231 L 37.152344 231 Z M 37.152344 228 "/>
</clipPath>
<clipPath id="clip12">
  <path d="M 37.152344 99 L 435.84375 99 L 435.84375 101 L 37.152344 101 Z M 37.152344 99 "/>
</clipPath>
<clipPath id="clip13">
  <path d="M 50 5.480469 L 52 5.480469 L 52 470.851562 L 50 470.851562 Z M 50 5.480469 "/>
</clipPath>
<clipPath id="clip14">
  <path d="M 145 5.480469 L 147 5.480469 L 147 470.851562 L 145 470.851562 Z M 145 5.480469 "/>
</clipPath>
<clipPath id="clip15">
  <path d="M 239 5.480469 L 241 5.480469 L 241 470.851562 L 239 470.851562 Z M 239 5.480469 "/>
</clipPath>
<clipPath id="clip16">
  <path d="M 334 5.480469 L 336 5.480469 L 336 470.851562 L 334 470.851562 Z M 334 5.480469 "/>
</clipPath>
<clipPath id="clip17">
  <path d="M 428 5.480469 L 430 5.480469 L 430 470.851562 L 428 470.851562 Z M 428 5.480469 "/>
</clipPath>
<clipPath id="clip18">
  <path d="M 452.28125 248.324219 L 469.5625 248.324219 L 469.5625 334.722656 L 452.28125 334.722656 Z M 452.28125 248.324219 "/>
</clipPath>
<image id="image10" width="1" height="20" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAIAAADDbMD2AAAABmJLR0QA/wD/AP+gvaeTAAAAM0lEQVQImW3GsQ0AIAwDMJQj+ZPjaJqqkRhgZLLHXERnoLXhjPerdW/xI2ERLqKVcBGuPN0+Oajx0h1cAAAAAElFTkSuQmCC"/>
<pattern id="pattern0" patternUnits="userSpaceOnUse" width="1" height="20"  patternTransform="matrix(17.28,0,0,4.32,452.281644,248.32274)">
  <use xlink:href="#image10"/>
</pattern>
</defs>
<g id="surface6">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 0 504 L 504 504 L 504 0 L 0 0 Z M 0 504 "/>
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(92.156863%,92.156863%,92.156863%);fill-opacity:1;" d="M 37.152344 470.847656 L 435.84375 470.847656 L 435.84375 5.476562 L 37.152344 5.476562 Z M 37.152344 470.847656 "/>
</g>
<g clip-path="url(#clip2)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 424.125 L 435.84375 424.125 "/>
</g>
<g clip-path="url(#clip3)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 294.359375 L 435.84375 294.359375 "/>
</g>
<g clip-path="url(#clip4)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 164.597656 L 435.84375 164.597656 "/>
</g>
<g clip-path="url(#clip5)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 34.832031 L 435.84375 34.832031 "/>
</g>
<g clip-path="url(#clip6)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 98.414062 470.847656 L 98.414062 5.480469 "/>
</g>
<g clip-path="url(#clip7)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 192.957031 470.847656 L 192.957031 5.480469 "/>
</g>
<g clip-path="url(#clip8)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 287.5 470.847656 L 287.5 5.480469 "/>
</g>
<g clip-path="url(#clip9)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 382.042969 470.847656 L 382.042969 5.480469 "/>
</g>
<g clip-path="url(#clip10)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 359.242188 L 435.84375 359.242188 "/>
</g>
<g clip-path="url(#clip11)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 229.480469 L 435.84375 229.480469 "/>
</g>
<g clip-path="url(#clip12)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 37.152344 99.714844 L 435.84375 99.714844 "/>
</g>
<g clip-path="url(#clip13)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 51.144531 470.847656 L 51.144531 5.480469 "/>
</g>
<g clip-path="url(#clip14)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 145.6875 470.847656 L 145.6875 5.480469 "/>
</g>
<g clip-path="url(#clip15)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.226562 470.847656 L 240.226562 5.480469 "/>
</g>
<g clip-path="url(#clip16)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 334.769531 470.847656 L 334.769531 5.480469 "/>
</g>
<g clip-path="url(#clip17)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 429.3125 470.847656 L 429.3125 5.480469 "/>
</g>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.490196%,91.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.490196%,91.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 368.449219 39.898438 C 368.449219 46.6875 358.265625 46.6875 358.265625 39.898438 C 358.265625 33.109375 368.449219 33.109375 368.449219 39.898438 "/>
<path style="fill-rule:nonzero;fill:rgb(11.372549%,24.313725%,36.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.372549%,24.313725%,36.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 105.472656 367.601562 C 105.472656 373.234375 97.019531 373.234375 97.019531 367.601562 C 97.019531 361.96875 105.472656 361.96875 105.472656 367.601562 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.27451%,65.882353%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.27451%,65.882353%);stroke-opacity:1;stroke-miterlimit:10;" d="M 298.457031 219.1875 C 298.457031 222.277344 295.949219 224.785156 292.855469 224.785156 C 289.765625 224.785156 287.257812 222.277344 287.257812 219.1875 C 287.257812 216.09375 289.765625 213.585938 292.855469 213.585938 C 295.949219 213.585938 298.457031 216.09375 298.457031 219.1875 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 169.644531 272.679688 C 169.644531 278.816406 160.441406 278.816406 160.441406 272.679688 C 160.441406 266.542969 169.644531 266.542969 169.644531 272.679688 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.54902%,47.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.54902%,47.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 134.449219 281.871094 C 134.449219 287.359375 126.21875 287.359375 126.21875 281.871094 C 126.21875 276.382812 134.449219 276.382812 134.449219 281.871094 "/>
<path style="fill-rule:nonzero;fill:rgb(28.627451%,59.215686%,83.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.627451%,59.215686%,83.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 376.359375 118.90625 C 376.359375 121.957031 373.886719 124.429688 370.835938 124.429688 C 367.785156 124.429688 365.3125 121.957031 365.3125 118.90625 C 365.3125 115.859375 367.785156 113.386719 370.835938 113.386719 C 373.886719 113.386719 376.359375 115.859375 376.359375 118.90625 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 238.132812 319.453125 C 238.132812 322.761719 235.453125 325.441406 232.144531 325.441406 C 228.835938 325.441406 226.15625 322.761719 226.15625 319.453125 C 226.15625 316.144531 228.835938 313.464844 232.144531 313.464844 C 235.453125 313.464844 238.132812 316.144531 238.132812 319.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,43.921569%,62.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,43.921569%,62.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 355.382812 283.859375 C 355.382812 287.589844 352.355469 290.613281 348.625 290.613281 C 344.894531 290.613281 341.871094 287.589844 341.871094 283.859375 C 341.871094 280.128906 344.894531 277.101562 348.625 277.101562 C 352.355469 277.101562 355.382812 280.128906 355.382812 283.859375 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.019608%,42.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.019608%,42.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 87.742188 294.019531 C 87.742188 298.25 81.390625 298.25 81.390625 294.019531 C 81.390625 289.785156 87.742188 289.785156 87.742188 294.019531 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,49.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,49.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 237.6875 325.765625 C 237.6875 329.117188 234.96875 331.835938 231.617188 331.835938 C 228.261719 331.835938 225.546875 329.117188 225.546875 325.765625 C 225.546875 322.410156 228.261719 319.691406 231.617188 319.691406 C 234.96875 319.691406 237.6875 322.410156 237.6875 325.765625 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 235.65625 185.414062 C 235.65625 191.816406 226.054688 191.816406 226.054688 185.414062 C 226.054688 179.011719 235.65625 179.011719 235.65625 185.414062 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,58.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,58.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 186.285156 214.304688 C 186.285156 220.226562 177.40625 220.226562 177.40625 214.304688 C 177.40625 208.386719 186.285156 208.386719 186.285156 214.304688 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 222.429688 308.007812 C 222.429688 311.128906 219.902344 313.65625 216.785156 313.65625 C 213.667969 313.65625 211.140625 311.128906 211.140625 308.007812 C 211.140625 304.890625 213.667969 302.363281 216.785156 302.363281 C 219.902344 302.363281 222.429688 304.890625 222.429688 308.007812 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,40.784314%,58.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,40.784314%,58.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 297.609375 286.703125 C 297.609375 290.152344 294.816406 292.945312 291.367188 292.945312 C 287.917969 292.945312 285.125 290.152344 285.125 286.703125 C 285.125 283.257812 287.917969 280.460938 291.367188 280.460938 C 294.816406 280.460938 297.609375 283.257812 297.609375 286.703125 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.470588%,52.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.470588%,52.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 94.488281 204.136719 C 94.488281 208.128906 88.496094 208.128906 88.496094 204.136719 C 88.496094 200.140625 94.488281 200.140625 94.488281 204.136719 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,32.156863%,46.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,32.156863%,46.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 242.332031 359.769531 C 242.332031 363.480469 239.324219 366.484375 235.617188 366.484375 C 231.910156 366.484375 228.902344 363.480469 228.902344 359.769531 C 228.902344 356.0625 231.910156 353.058594 235.617188 353.058594 C 239.324219 353.058594 242.332031 356.0625 242.332031 359.769531 "/>
<path style="fill-rule:nonzero;fill:rgb(28.627451%,58.823529%,82.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.627451%,58.823529%,82.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 414.742188 147.511719 C 414.742188 150.796875 412.082031 153.457031 408.796875 153.457031 C 405.515625 153.457031 402.855469 150.796875 402.855469 147.511719 C 402.855469 144.230469 405.515625 141.566406 408.796875 141.566406 C 412.082031 141.566406 414.742188 144.230469 414.742188 147.511719 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,53.333333%,75.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,53.333333%,75.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.039062 109.40625 C 259.039062 115.582031 249.777344 115.582031 249.777344 109.40625 C 249.777344 103.234375 259.039062 103.234375 259.039062 109.40625 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.078431%,52.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.078431%,52.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 201.453125 281.023438 C 201.453125 287.824219 191.253906 287.824219 191.253906 281.023438 C 191.253906 274.222656 201.453125 274.222656 201.453125 281.023438 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.686275%,51.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.686275%,51.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 215.722656 293.789062 C 215.722656 296.773438 213.304688 299.191406 210.320312 299.191406 C 207.335938 299.191406 204.914062 296.773438 204.914062 293.789062 C 204.914062 290.804688 207.335938 288.386719 210.320312 288.386719 C 213.304688 288.386719 215.722656 290.804688 215.722656 293.789062 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,38.039216%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,38.039216%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 126.316406 205.53125 C 126.316406 210.3125 119.144531 210.3125 119.144531 205.53125 C 119.144531 200.75 126.316406 200.75 126.316406 205.53125 "/>
<path style="fill-rule:nonzero;fill:rgb(24.705882%,50.980392%,72.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.705882%,50.980392%,72.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 317.082031 173.242188 C 317.082031 176.242188 314.648438 178.671875 311.652344 178.671875 C 308.65625 178.671875 306.226562 176.242188 306.226562 173.242188 C 306.226562 170.246094 308.65625 167.816406 311.652344 167.816406 C 314.648438 167.816406 317.082031 170.246094 317.082031 173.242188 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.647059%,81.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.647059%,81.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 390.246094 146.628906 C 390.246094 149.824219 387.660156 152.410156 384.464844 152.410156 C 381.273438 152.410156 378.6875 149.824219 378.6875 146.628906 C 378.6875 143.4375 381.273438 140.851562 384.464844 140.851562 C 387.660156 140.851562 390.246094 143.4375 390.246094 146.628906 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,47.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,47.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 181.53125 314.28125 C 181.53125 321.148438 171.234375 321.148438 171.234375 314.28125 C 171.234375 307.414062 181.53125 307.414062 181.53125 314.28125 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.588235%,44.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.588235%,44.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 205.453125 354.605469 C 205.453125 357.953125 202.738281 360.667969 199.386719 360.667969 C 196.039062 360.667969 193.324219 357.953125 193.324219 354.605469 C 193.324219 351.253906 196.039062 348.539062 199.386719 348.539062 C 202.738281 348.539062 205.453125 351.253906 205.453125 354.605469 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,54.901961%,77.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,54.901961%,77.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 414.570312 192.832031 C 414.570312 196.300781 411.757812 199.113281 408.289062 199.113281 C 404.820312 199.113281 402.007812 196.300781 402.007812 192.832031 C 402.007812 189.363281 404.820312 186.550781 408.289062 186.550781 C 411.757812 186.550781 414.570312 189.363281 414.570312 192.832031 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40%,57.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40%,57.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 130.800781 184.785156 C 130.800781 189.550781 123.652344 189.550781 123.652344 184.785156 C 123.652344 180.019531 130.800781 180.019531 130.800781 184.785156 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.078431%,78.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.078431%,78.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 367.019531 149.058594 C 367.019531 152.171875 364.496094 154.695312 361.378906 154.695312 C 358.265625 154.695312 355.742188 152.171875 355.742188 149.058594 C 355.742188 145.945312 358.265625 143.417969 361.378906 143.417969 C 364.496094 143.417969 367.019531 145.945312 367.019531 149.058594 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.980392%,45.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.980392%,45.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 122 294.445312 C 122 299.738281 114.0625 299.738281 114.0625 294.445312 C 114.0625 289.152344 122 289.152344 122 294.445312 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 202.308594 243.527344 C 202.308594 249.945312 192.683594 249.945312 192.683594 243.527344 C 192.683594 237.109375 202.308594 237.109375 202.308594 243.527344 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,52.941176%,74.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,52.941176%,74.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 421.410156 222.96875 C 421.410156 226.613281 418.457031 229.566406 414.8125 229.566406 C 411.167969 229.566406 408.214844 226.613281 408.214844 222.96875 C 408.214844 219.324219 411.167969 216.367188 414.8125 216.367188 C 418.457031 216.367188 421.410156 219.324219 421.410156 222.96875 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,41.960784%,60%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,41.960784%,60%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.070312 201.542969 C 193.070312 207.472656 184.171875 207.472656 184.171875 201.542969 C 184.171875 195.609375 193.070312 195.609375 193.070312 201.542969 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 300.773438 90.511719 C 300.773438 96.996094 291.042969 96.996094 291.042969 90.511719 C 291.042969 84.023438 300.773438 84.023438 300.773438 90.511719 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 133.015625 348.859375 C 133.015625 355.09375 123.660156 355.09375 123.660156 348.859375 C 123.660156 342.621094 133.015625 342.621094 133.015625 348.859375 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.215686%,56.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.215686%,56.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 273.433594 288.484375 C 273.433594 291.804688 270.742188 294.496094 267.421875 294.496094 C 264.101562 294.496094 261.40625 291.804688 261.40625 288.484375 C 261.40625 285.164062 264.101562 282.46875 267.421875 282.46875 C 270.742188 282.46875 273.433594 285.164062 273.433594 288.484375 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 169.671875 274.976562 C 169.671875 281.136719 160.429688 281.136719 160.429688 274.976562 C 160.429688 268.816406 169.671875 268.816406 169.671875 274.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(21.960784%,45.490196%,64.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.960784%,45.490196%,64.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 364.660156 274.84375 C 364.660156 278.558594 361.652344 281.570312 357.9375 281.570312 C 354.226562 281.570312 351.214844 278.558594 351.214844 274.84375 C 351.214844 271.132812 354.226562 268.121094 357.9375 268.121094 C 361.652344 268.121094 364.660156 271.132812 364.660156 274.84375 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.816406 158.578125 C 259.816406 165.074219 250.070312 165.074219 250.070312 158.578125 C 250.070312 152.078125 259.816406 152.078125 259.816406 158.578125 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.294118%,51.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.294118%,51.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 249.878906 320.21875 C 249.878906 323.613281 247.125 326.363281 243.730469 326.363281 C 240.335938 326.363281 237.585938 323.613281 237.585938 320.21875 C 237.585938 316.824219 240.335938 314.070312 243.730469 314.070312 C 247.125 314.070312 249.878906 316.824219 249.878906 320.21875 "/>
<path style="fill-rule:nonzero;fill:rgb(9.411765%,20.392157%,31.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.411765%,20.392157%,31.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 77.636719 402.535156 C 77.636719 407.386719 70.359375 407.386719 70.359375 402.535156 C 70.359375 397.683594 77.636719 397.683594 77.636719 402.535156 "/>
<path style="fill-rule:nonzero;fill:rgb(28.627451%,58.823529%,82.745098%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.627451%,58.823529%,82.745098%);stroke-opacity:1;stroke-miterlimit:10;" d="M 373.058594 119.773438 C 373.058594 122.8125 370.589844 125.277344 367.550781 125.277344 C 364.511719 125.277344 362.042969 122.8125 362.042969 119.773438 C 362.042969 116.730469 364.511719 114.265625 367.550781 114.265625 C 370.589844 114.265625 373.058594 116.730469 373.058594 119.773438 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,29.803922%,43.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,29.803922%,43.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 96.875 291.9375 C 96.875 296.476562 90.066406 296.476562 90.066406 291.9375 C 90.066406 287.398438 96.875 287.398438 96.875 291.9375 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 264.621094 149.992188 C 264.621094 156.484375 254.886719 156.484375 254.886719 149.992188 C 254.886719 143.5 264.621094 143.5 264.621094 149.992188 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.372549%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.372549%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 56.695312 241.273438 C 56.695312 243.167969 53.851562 243.167969 53.851562 241.273438 C 53.851562 239.375 56.695312 239.375 56.695312 241.273438 "/>
<path style="fill-rule:nonzero;fill:rgb(27.45098%,56.470588%,79.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.45098%,56.470588%,79.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 387.289062 157.878906 C 387.289062 161.101562 384.675781 163.710938 381.453125 163.710938 C 378.230469 163.710938 375.617188 161.101562 375.617188 157.878906 C 375.617188 154.65625 378.230469 152.042969 381.453125 152.042969 C 384.675781 152.042969 387.289062 154.65625 387.289062 157.878906 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,50.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,50.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 154.820312 268.03125 C 154.820312 273.832031 146.117188 273.832031 146.117188 268.03125 C 146.117188 262.226562 154.820312 262.226562 154.820312 268.03125 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,50.196078%,70.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,50.196078%,70.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 219.300781 120.175781 C 219.300781 125.953125 210.628906 125.953125 210.628906 120.175781 C 210.628906 114.394531 219.300781 114.394531 219.300781 120.175781 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.588235%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.588235%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 285.316406 159.976562 C 285.316406 166.769531 275.128906 166.769531 275.128906 159.976562 C 275.128906 153.183594 285.316406 153.183594 285.316406 159.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.843137%,41.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.843137%,41.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 136.789062 343.773438 C 136.789062 350.039062 127.394531 350.039062 127.394531 343.773438 C 127.394531 337.511719 136.789062 337.511719 136.789062 343.773438 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 413.160156 26.632812 C 413.160156 33.691406 402.574219 33.691406 402.574219 26.632812 C 402.574219 19.574219 413.160156 19.574219 413.160156 26.632812 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,55.686275%,78.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,55.686275%,78.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 317.148438 118.566406 C 317.148438 125.386719 306.917969 125.386719 306.917969 118.566406 C 306.917969 111.742188 317.148438 111.742188 317.148438 118.566406 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.490196%,38.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.490196%,38.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 143.621094 376.433594 C 143.621094 383.5 133.019531 383.5 133.019531 376.433594 C 133.019531 369.367188 143.621094 369.367188 143.621094 376.433594 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.372549%,45.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.372549%,45.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 198.644531 339.652344 C 198.644531 342.816406 196.082031 345.378906 192.921875 345.378906 C 189.757812 345.378906 187.195312 342.816406 187.195312 339.652344 C 187.195312 336.492188 189.757812 333.929688 192.921875 333.929688 C 196.082031 333.929688 198.644531 336.492188 198.644531 339.652344 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.411765%,43.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.411765%,43.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 97.28125 296.9375 C 97.28125 301.527344 90.394531 301.527344 90.394531 296.9375 C 90.394531 292.347656 97.28125 292.347656 97.28125 296.9375 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 70.417969 449.695312 C 70.417969 455.199219 62.164062 455.199219 62.164062 449.695312 C 62.164062 444.195312 70.417969 444.195312 70.417969 449.695312 "/>
<path style="fill-rule:nonzero;fill:rgb(20%,42.352941%,60.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20%,42.352941%,60.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 241.726562 231.058594 C 241.726562 237.929688 231.414062 237.929688 231.414062 231.058594 C 231.414062 224.183594 241.726562 224.183594 241.726562 231.058594 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.372549%,45.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.372549%,45.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 160.542969 314.179688 C 160.542969 320.605469 150.90625 320.605469 150.90625 314.179688 C 150.90625 307.753906 160.542969 307.753906 160.542969 314.179688 "/>
<path style="fill-rule:nonzero;fill:rgb(27.45098%,56.862745%,80%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.45098%,56.862745%,80%);stroke-opacity:1;stroke-miterlimit:10;" d="M 407.242188 167.023438 C 407.242188 170.355469 404.542969 173.054688 401.210938 173.054688 C 397.878906 173.054688 395.179688 170.355469 395.179688 167.023438 C 395.179688 163.691406 397.878906 160.992188 401.210938 160.992188 C 404.542969 160.992188 407.242188 163.691406 407.242188 167.023438 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.431373%,55.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.431373%,55.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 248.316406 282.816406 C 248.316406 285.953125 245.773438 288.492188 242.636719 288.492188 C 239.503906 288.492188 236.960938 285.953125 236.960938 282.816406 C 236.960938 279.679688 239.503906 277.140625 242.636719 277.140625 C 245.773438 277.140625 248.316406 279.679688 248.316406 282.816406 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,56.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,56.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 246.253906 273.238281 C 246.253906 276.308594 243.765625 278.796875 240.695312 278.796875 C 237.625 278.796875 235.136719 276.308594 235.136719 273.238281 C 235.136719 270.171875 237.625 267.683594 240.695312 267.683594 C 243.765625 267.683594 246.253906 270.171875 246.253906 273.238281 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.764706%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.764706%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 83.144531 256.460938 C 83.144531 260.3125 77.367188 260.3125 77.367188 256.460938 C 77.367188 252.609375 83.144531 252.609375 83.144531 256.460938 "/>
<path style="fill-rule:nonzero;fill:rgb(11.372549%,24.313725%,36.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.372549%,24.313725%,36.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 86.953125 358.523438 C 86.953125 363.269531 79.832031 363.269531 79.832031 358.523438 C 79.832031 353.777344 86.953125 353.777344 86.953125 358.523438 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 292.679688 83.324219 C 292.679688 89.695312 283.125 89.695312 283.125 83.324219 C 283.125 76.957031 292.679688 76.957031 292.679688 83.324219 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.098039%,37.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.098039%,37.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 100.726562 353.519531 C 100.726562 358.777344 92.84375 358.777344 92.84375 353.519531 C 92.84375 348.261719 100.726562 348.261719 100.726562 353.519531 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.470588%,52.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.470588%,52.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 195.660156 269.042969 C 195.660156 275.609375 185.8125 275.609375 185.8125 269.042969 C 185.8125 262.476562 195.660156 262.476562 195.660156 269.042969 "/>
<path style="fill-rule:nonzero;fill:rgb(20.784314%,43.137255%,61.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.784314%,43.137255%,61.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 339.605469 286.695312 C 339.605469 290.367188 336.628906 293.34375 332.957031 293.34375 C 329.285156 293.34375 326.308594 290.367188 326.308594 286.695312 C 326.308594 283.023438 329.285156 280.046875 332.957031 280.046875 C 336.628906 280.046875 339.605469 283.023438 339.605469 286.695312 "/>
<path style="fill-rule:nonzero;fill:rgb(25.490196%,53.333333%,74.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.490196%,53.333333%,74.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 252.394531 105.132812 C 252.394531 111.210938 243.277344 111.210938 243.277344 105.132812 C 243.277344 99.054688 252.394531 99.054688 252.394531 105.132812 "/>
<path style="fill-rule:nonzero;fill:rgb(32.54902%,66.666667%,93.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.54902%,66.666667%,93.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 416.1875 58.707031 C 416.1875 61.71875 413.746094 64.160156 410.734375 64.160156 C 407.722656 64.160156 405.28125 61.71875 405.28125 58.707031 C 405.28125 55.691406 407.722656 53.25 410.734375 53.25 C 413.746094 53.25 416.1875 55.691406 416.1875 58.707031 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 206.011719 379.972656 C 206.011719 383.613281 203.0625 386.558594 199.425781 386.558594 C 195.789062 386.558594 192.839844 383.613281 192.839844 379.972656 C 192.839844 376.335938 195.789062 373.390625 199.425781 373.390625 C 203.0625 373.390625 206.011719 376.335938 206.011719 379.972656 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,59.215686%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,59.215686%);stroke-opacity:1;stroke-miterlimit:10;" d="M 197.953125 211.429688 C 197.953125 217.511719 188.835938 217.511719 188.835938 211.429688 C 188.835938 205.351562 197.953125 205.351562 197.953125 211.429688 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,26.666667%,39.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,26.666667%,39.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 168.859375 380.503906 C 168.859375 383.765625 166.214844 386.414062 162.949219 386.414062 C 159.6875 386.414062 157.042969 383.765625 157.042969 380.503906 C 157.042969 377.242188 159.6875 374.597656 162.949219 374.597656 C 166.214844 374.597656 168.859375 377.242188 168.859375 380.503906 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 199.640625 257.765625 C 199.640625 264.277344 189.871094 264.277344 189.871094 257.765625 C 189.871094 251.25 199.640625 251.25 199.640625 257.765625 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 292.765625 118.6875 C 292.765625 125.273438 282.890625 125.273438 282.890625 118.6875 C 282.890625 112.105469 292.765625 112.105469 292.765625 118.6875 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,33.72549%,48.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,33.72549%,48.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 88.796875 236.410156 C 88.796875 240.367188 82.855469 240.367188 82.855469 236.410156 C 82.855469 232.449219 88.796875 232.449219 88.796875 236.410156 "/>
<path style="fill-rule:nonzero;fill:rgb(10.588235%,22.745098%,34.117647%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.588235%,22.745098%,34.117647%);stroke-opacity:1;stroke-miterlimit:10;" d="M 148.882812 419.300781 C 148.882812 422.882812 145.980469 425.785156 142.394531 425.785156 C 138.8125 425.785156 135.910156 422.882812 135.910156 419.300781 C 135.910156 415.714844 138.8125 412.8125 142.394531 412.8125 C 145.980469 412.8125 148.882812 415.714844 148.882812 419.300781 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60%,84.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60%,84.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392 119.894531 C 392 123 389.476562 125.523438 386.371094 125.523438 C 383.261719 125.523438 380.742188 123 380.742188 119.894531 C 380.742188 116.785156 383.261719 114.265625 386.371094 114.265625 C 389.476562 114.265625 392 116.785156 392 119.894531 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 298.792969 243.117188 C 298.792969 246.324219 296.195312 248.921875 292.988281 248.921875 C 289.785156 248.921875 287.1875 246.324219 287.1875 243.117188 C 287.1875 239.914062 289.785156 237.316406 292.988281 237.316406 C 296.195312 237.316406 298.792969 239.914062 298.792969 243.117188 "/>
<path style="fill-rule:nonzero;fill:rgb(11.372549%,24.705882%,36.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.372549%,24.705882%,36.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 63.671875 336.03125 C 63.671875 339.246094 58.847656 339.246094 58.847656 336.03125 C 58.847656 332.8125 63.671875 332.8125 63.671875 336.03125 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,48.627451%,69.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,48.627451%,69.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 260.964844 164.230469 C 260.964844 170.78125 251.136719 170.78125 251.136719 164.230469 C 251.136719 157.679688 260.964844 157.679688 260.964844 164.230469 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,28.235294%,41.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,28.235294%,41.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 182.082031 370.628906 C 182.082031 373.925781 179.414062 376.59375 176.117188 376.59375 C 172.824219 376.59375 170.15625 373.925781 170.15625 370.628906 C 170.15625 367.335938 172.824219 364.667969 176.117188 364.667969 C 179.414062 364.667969 182.082031 367.335938 182.082031 370.628906 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 186.128906 166.71875 C 186.128906 172.320312 177.726562 172.320312 177.726562 166.71875 C 177.726562 161.117188 186.128906 161.117188 186.128906 166.71875 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,48.627451%,69.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,48.627451%,69.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 243.671875 153.332031 C 243.671875 159.601562 234.261719 159.601562 234.261719 153.332031 C 234.261719 147.058594 243.671875 147.058594 243.671875 153.332031 "/>
<path style="fill-rule:nonzero;fill:rgb(22.352941%,46.666667%,66.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.352941%,46.666667%,66.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 354.953125 254.910156 C 354.953125 258.453125 352.082031 261.320312 348.542969 261.320312 C 345.003906 261.320312 342.132812 258.453125 342.132812 254.910156 C 342.132812 251.371094 345.003906 248.5 348.542969 248.5 C 352.082031 248.5 354.953125 251.371094 354.953125 254.910156 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.019608%,96.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.019608%,96.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 423.117188 37.796875 C 423.117188 44.992188 412.324219 44.992188 412.324219 37.796875 C 412.324219 30.601562 423.117188 30.601562 423.117188 37.796875 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.784314%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.784314%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 388.851562 110.035156 C 388.851562 113.101562 386.363281 115.585938 383.296875 115.585938 C 380.230469 115.585938 377.746094 113.101562 377.746094 110.035156 C 377.746094 106.96875 380.230469 104.480469 383.296875 104.480469 C 386.363281 104.480469 388.851562 106.96875 388.851562 110.035156 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.411765%,70.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.411765%,70.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 371.5 229.261719 C 371.5 232.730469 368.683594 235.546875 365.210938 235.546875 C 361.738281 235.546875 358.925781 232.730469 358.925781 229.261719 C 358.925781 225.789062 361.738281 222.972656 365.210938 222.972656 C 368.683594 222.972656 371.5 225.789062 371.5 229.261719 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.607843%,57.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.607843%,57.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 197.074219 230.714844 C 197.074219 236.9375 187.742188 236.9375 187.742188 230.714844 C 187.742188 224.492188 197.074219 224.492188 197.074219 230.714844 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,36.862745%,52.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,36.862745%,52.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 247.664062 302.878906 C 247.664062 306.132812 245.023438 308.773438 241.769531 308.773438 C 238.515625 308.773438 235.875 306.132812 235.875 302.878906 C 235.875 299.625 238.515625 296.984375 241.769531 296.984375 C 245.023438 296.984375 247.664062 299.625 247.664062 302.878906 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.470588%,52.54902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.470588%,52.54902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 111.746094 214.683594 C 111.746094 219.183594 105 219.183594 105 214.683594 C 105 210.1875 111.746094 210.1875 111.746094 214.683594 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 423.390625 206.007812 C 423.390625 209.574219 420.5 212.460938 416.933594 212.460938 C 413.371094 212.460938 410.480469 209.574219 410.480469 206.007812 C 410.480469 202.441406 413.371094 199.554688 416.933594 199.554688 C 420.5 199.554688 423.390625 202.441406 423.390625 206.007812 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 63.429688 286.914062 C 63.429688 289.890625 58.964844 289.890625 58.964844 286.914062 C 58.964844 283.9375 63.429688 283.9375 63.429688 286.914062 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,64.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,64.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 260.328125 206.574219 C 260.328125 213.460938 250 213.460938 250 206.574219 C 250 199.6875 260.328125 199.6875 260.328125 206.574219 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,44.705882%,63.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,44.705882%,63.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 356.710938 278.472656 C 356.710938 282.171875 353.710938 285.171875 350.011719 285.171875 C 346.3125 285.171875 343.3125 282.171875 343.3125 278.472656 C 343.3125 274.773438 346.3125 271.773438 350.011719 271.773438 C 353.710938 271.773438 356.710938 274.773438 356.710938 278.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(12.156863%,25.882353%,38.431373%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.156863%,25.882353%,38.431373%);stroke-opacity:1;stroke-miterlimit:10;" d="M 105.292969 347.414062 C 105.292969 352.761719 97.273438 352.761719 97.273438 347.414062 C 97.273438 342.070312 105.292969 342.070312 105.292969 347.414062 "/>
<path style="fill-rule:nonzero;fill:rgb(8.627451%,18.823529%,29.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.627451%,18.823529%,29.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 63.511719 415.976562 C 63.511719 419.867188 57.675781 419.867188 57.675781 415.976562 C 57.675781 412.085938 63.511719 412.085938 63.511719 415.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,47.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,47.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 233.097656 349.480469 C 233.097656 353.007812 230.238281 355.867188 226.714844 355.867188 C 223.1875 355.867188 220.328125 353.007812 220.328125 349.480469 C 220.328125 345.957031 223.1875 343.097656 226.714844 343.097656 C 230.238281 343.097656 233.097656 345.957031 233.097656 349.480469 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.078431%,52.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.078431%,52.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 256.238281 316.757812 C 256.238281 320.167969 253.476562 322.929688 250.0625 322.929688 C 246.652344 322.929688 243.890625 320.167969 243.890625 316.757812 C 243.890625 313.347656 246.652344 310.582031 250.0625 310.582031 C 253.476562 310.582031 256.238281 313.347656 256.238281 316.757812 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,37.254902%,53.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,37.254902%,53.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 119.324219 210.957031 C 119.324219 215.613281 112.339844 215.613281 112.339844 210.957031 C 112.339844 206.300781 119.324219 206.300781 119.324219 210.957031 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,44.705882%,63.921569%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,44.705882%,63.921569%);stroke-opacity:1;stroke-miterlimit:10;" d="M 218.113281 183.308594 C 218.113281 189.464844 208.878906 189.464844 208.878906 183.308594 C 208.878906 177.152344 218.113281 177.152344 218.113281 183.308594 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="19.21875" y="362.708008"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="362.708008"/>
  <use xlink:href="#glyph0-3" x="26.557617" y="362.708008"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="19.21875" y="232.946289"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="232.946289"/>
  <use xlink:href="#glyph0-1" x="26.557617" y="232.946289"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="19.21875" y="103.180664"/>
  <use xlink:href="#glyph0-2" x="24.112305" y="103.180664"/>
  <use xlink:href="#glyph0-3" x="26.557617" y="103.180664"/>
</g>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 359.242188 L 37.152344 359.242188 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 229.480469 L 37.152344 229.480469 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 34.410156 99.714844 L 37.152344 99.714844 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 51.144531 473.589844 L 51.144531 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 145.6875 473.589844 L 145.6875 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.226562 473.589844 L 240.226562 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 334.769531 473.589844 L 334.769531 470.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 429.3125 473.589844 L 429.3125 470.847656 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="42.144531" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="47.038086" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="49.483398" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="54.376953" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="136.6875" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="141.581055" y="482.74707"/>
  <use xlink:href="#glyph0-5" x="144.026367" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="148.919922" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="231.226562" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="236.120117" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="238.56543" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="243.458984" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="325.769531" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="330.663086" y="482.74707"/>
  <use xlink:href="#glyph0-6" x="333.108398" y="482.74707"/>
  <use xlink:href="#glyph0-3" x="338.001953" y="482.74707"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="420.3125" y="482.74707"/>
  <use xlink:href="#glyph0-2" x="425.206055" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="427.651367" y="482.74707"/>
  <use xlink:href="#glyph0-1" x="432.544922" y="482.74707"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="233.496094" y="495.477539"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="13.438477" y="241.164062"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 215.40625 L 498.519531 215.40625 L 498.519531 136.128906 L 446.800781 136.128906 Z M 446.800781 215.40625 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="151.063477"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="151.063477"/>
  <use xlink:href="#glyph1-3" x="461.444336" y="151.063477"/>
  <use xlink:href="#glyph1-4" x="464.500977" y="151.063477"/>
  <use xlink:href="#glyph1-5" x="470.000977" y="151.063477"/>
</g>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 175.367188 L 469.5625 175.367188 L 469.5625 158.085938 L 452.28125 158.085938 Z M 452.28125 175.367188 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 464.96875 166.726562 C 464.96875 172.125 456.875 172.125 456.875 166.726562 C 456.875 161.328125 464.96875 161.328125 464.96875 166.726562 "/>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 192.644531 L 469.5625 192.644531 L 469.5625 175.363281 L 452.28125 175.363281 Z M 452.28125 192.644531 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.101562 184.003906 C 466.101562 190.914062 455.742188 190.914062 455.742188 184.003906 C 455.742188 177.097656 466.101562 177.097656 466.101562 184.003906 "/>
<path style="fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 209.925781 L 469.5625 209.925781 L 469.5625 192.644531 L 452.28125 192.644531 Z M 452.28125 209.925781 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.964844 201.285156 C 466.964844 204.625 464.257812 207.328125 460.921875 207.328125 C 457.582031 207.328125 454.878906 204.625 454.878906 201.285156 C 454.878906 197.949219 457.582031 195.242188 460.921875 195.242188 C 464.257812 195.242188 466.964844 197.949219 466.964844 201.285156 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="170.192383"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="170.192383"/>
  <use xlink:href="#glyph0-5" x="482.381836" y="170.192383"/>
  <use xlink:href="#glyph0-3" x="487.275391" y="170.192383"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="187.469727"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="187.469727"/>
  <use xlink:href="#glyph0-3" x="482.381836" y="187.469727"/>
  <use xlink:href="#glyph0-1" x="487.275391" y="187.469727"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="204.750977"/>
  <use xlink:href="#glyph0-2" x="479.936523" y="204.750977"/>
  <use xlink:href="#glyph0-6" x="482.381836" y="204.750977"/>
  <use xlink:href="#glyph0-3" x="487.275391" y="204.750977"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 340.203125 L 488.757812 340.203125 L 488.757812 226.363281 L 446.800781 226.363281 Z M 446.800781 340.203125 "/>
<g clip-path="url(#clip18)" clip-rule="nonzero">
<rect x="0" y="0" width="504" height="504" style="fill:url(#pattern0);stroke:none;"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="475.042969" y="309.833008"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="475.042969" y="277.43457"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="241.301758"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="241.301758"/>
  <use xlink:href="#glyph1-6" x="461.444336" y="241.301758"/>
  <use xlink:href="#glyph1-7" x="464.500977" y="241.301758"/>
  <use xlink:href="#glyph1-6" x="470.924805" y="241.301758"/>
  <use xlink:href="#glyph1-4" x="473.981445" y="241.301758"/>
  <use xlink:href="#glyph1-5" x="479.481445" y="241.301758"/>
</g>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 306.367188 L 455.738281 306.367188 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 273.96875 L 455.738281 273.96875 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 306.367188 L 469.5625 306.367188 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 273.96875 L 469.5625 273.96875 "/>
</g>
</svg>
</div><div class="nspbox"><div><p>Any plot (function or object) can be saved to file or converted to BufferedImage object.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj</br>&nbsp;&nbsp;&nbsp;(plot->file</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"histogram.jpg")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Histogram"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"data:&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;800</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;400</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:quality&nbsp;50))</code></div></div><div class="nspbox"><image src="histogram.jpg"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->buffered-image</br>&nbsp;&nbsp;&nbsp;(fn&nbsp;[]&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]))</br>&nbsp;&nbsp;&nbsp;:width&nbsp;222</br>&nbsp;&nbsp;&nbsp;:height&nbsp;149)</code></div><div class="nspout"><code class="prettyprint lang-clj">#object[java.awt.image.BufferedImage&nbsp;0x4485d3b4&nbsp;"BufferedImage@4485d3b4:&nbsp;type&nbsp;=&nbsp;2&nbsp;DirectColorModel:&nbsp;rmask=ff0000&nbsp;gmask=ff00&nbsp;bmask=ff&nbsp;amask=ff000000&nbsp;IntegerInterleavedRaster:&nbsp;width&nbsp;=&nbsp;222&nbsp;height&nbsp;=&nbsp;149&nbsp;#Bands&nbsp;=&nbsp;4&nbsp;xOff&nbsp;=&nbsp;0&nbsp;yOff&nbsp;=&nbsp;0&nbsp;dataOffset[0]&nbsp;0"]</code></div></div><div class="nspbox"><a id="intermediary-representation-as-Java-objects"> </a><div><h2>Intermediary representation as Java objects.</h2></div></div><div class="nspbox"><div><p>Clojisr relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(import</br>&nbsp;&nbsp;&nbsp;(org.rosuda.REngine&nbsp;REXP</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REXPInteger</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REXPDouble))</code></div></div><div class="nspbox"><div><p>We can convert data between R and Java.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><div><p>We can further convert data from the java representation to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr&nbsp;nil,&nbsp;:value&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;java->naive-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:attr</br>&nbsp;{:names&nbsp;["x",&nbsp;"y"],</br>&nbsp;&nbsp;:row.names&nbsp;[-2147483648,&nbsp;-3],</br>&nbsp;&nbsp;:class&nbsp;["data.frame"]},</br>&nbsp;:value&nbsp;{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;["b",&nbsp;"b",&nbsp;"b"]}}</code></div></div><div class="nspbox"><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="more-data-conversion-examples"> </a><div><h2>More data conversion examples</h2></div></div><div class="nspbox"><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">["list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\")"]</code></div></div><div class="nspbox"><div><h3>Basic types convertion clj->r->clj</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr.v1.tutorial-test/clj->r->clj</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;nil)&nbsp;nil)</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[10&nbsp;11])</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;11]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[10.0&nbsp;11.0])</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[10.0&nbsp;11.0])</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]})</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}]</code></div></div><div class="nspbox"><div><h3>Various R objects</h3></div></div><div class="nspbox"><div><p>Named list</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1,b=c(10,20),c='hi!')")&nbsp;;;&nbsp;named</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:a&nbsp;[1.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:b&nbsp;[10.0&nbsp;20.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:c&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Array of doubles</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")&nbsp;;;&nbsp;array&nbsp;of</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;doubles</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</code></div></div><div class="nspbox"><div><p>Timeseries</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;r.datasets/euro)&nbsp;;;&nbsp;timeseries</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</code></div></div><div class="nspbox"><div><p>Pairlist</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)&nbsp;;;&nbsp;pairlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</code></div></div><div class="nspbox"><div><p>NULL</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")&nbsp;;;&nbsp;null</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div><p>TRUE/FALSE</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")&nbsp;;;&nbsp;true/false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</code></div></div><div class="nspbox"><a id="inspecting-R-functions"> </a><div><h2>Inspecting R functions</h2></div></div><div class="nspbox"><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'mean)</code></div><div class="nspout"><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x7fffc30c4380></br><environment:&nbsp;namespace:base></code></div></div><div class="nspbox"><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:trim&nbsp;[0.0],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:na.rm&nbsp;[false],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><a id="R-function-arglists"> </a><div><h2>R-function-arglists</h2></div></div><div class="nspbox"><div><p>As we saw earlier, R functions are Clojure functions. The arglists of functions brought up by <code>require-r</code> match the expected arguments. Here are some examples:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[stats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[grDevices])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;[#'r.base/mean&nbsp;#'r.base/mean-default</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.stats/arima0</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.grDevices/dev-off</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/Sys-info</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/summary-default</br>&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;Primitive&nbsp;functions:</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/sin&nbsp;#'r.base/sum]</br>&nbsp;&nbsp;&nbsp;(map</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(update&nbsp;:ns</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(comp&nbsp;symbol&nbsp;str)))))</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[trim&nbsp;na.rm</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[order&nbsp;seasonal&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init&nbsp;method&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;dev-off,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;Sys-info,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([object&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[...&nbsp;digits</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;sin,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;sum,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base})))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;([x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[order</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seasonal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})]</code></div></div><div class="nspbox"><a id="using-Renjin"> </a><div><h2>Using Renjin</h2></div></div><div class="nspbox"><div><p>In the followint example, we use a differnt R backend (the pure JVM Renjin) for reading a csv, without changing the default backend (which is the usual R using Rserve).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'clojisr.v1.renjin)</br>&nbsp;(let&nbsp;[path&nbsp;"/tmp/data.csv"]</br>&nbsp;&nbsp;&nbsp;(spit&nbsp;path&nbsp;"a,b,c\n1,2,3\n4,5,6\n")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;['read.csv&nbsp;path]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r->clj&nbsp;:session-args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:session-type&nbsp;:renjin})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6}]))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;({:a&nbsp;1,&nbsp;:b&nbsp;2,&nbsp;:c&nbsp;3}&nbsp;{:a&nbsp;4,&nbsp;:b&nbsp;5,&nbsp;:c&nbsp;6})]</code></div></div><hr /><div>Checks: <b class="PASSED">58 PASSED </b><hr /></div><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Wed Mar 04 13:51:50 CET 2020.</small></i><hr /></div></div></body></html></html>